*** Variables ***
${SERVER_LANGUAGE}  NOTSET
${CLIENT_LANGUAGE}  NOTSET

*** Keywords ***
Run Keyword If Server Or Client Is Jython22
    [Arguments]  ${name}  @{args}
    Run Keyword If  "${SERVER_LANGUAGE}" == "NOTSET"  Set Server And Client Language Variables
    Run Keyword If  "${SERVER_LANGUAGE}" == "jython22" or "${CLIENT_LANGUAGE}" == "jython22"  ${name}  @{args}

Run Keyword If Client Is Jython22
    [Arguments]  ${name}  @{args}
    Run Keyword If  "${SERVER_LANGUAGE}" == "NOTSET"  Set Server And Client Language Variables
    Run Keyword If  "${CLIENT_LANGUAGE}" == "jython22"  ${name}  @{args}

Set Server And Client Language Variables
    ${SERVER_LANGUAGE} =  Get Server Language
    ${CLIENT_LANGUAGE} =  Evaluate  '%sython%d%d' % (sys.platform.startswith('java') and 'j' or 'p', sys.version_info[0], sys.version_info[1])  sys
    Set Global Variable  ${SERVER_LANGUAGE}
    Set Global Variable  ${CLIENT_LANGUAGE}

