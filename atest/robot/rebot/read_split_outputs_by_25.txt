*** Settings ***
Documentation   Tests for RF 2.6 being able to read and process split outputs
...             generated by RF 2.5. This functionality can be removed in 2.7.
Force Tags      regression  pybot  jybot
Resource        ../../resources/rebot_resource.html

*** Variables ***


*** Test Cases ***
Read outputs split using level 1
    Run Rebot  ${EMPTY}  rebot/splitouts1/output.xml
    Verify read suite

Read outputs split using level 2
    Run Rebot  ${EMPTY}  rebot/splitouts2/output.xml
    Verify read suite


*** Keywords ***
Verify read suite
    Should Be Equal  ${SUITE.name}  Suites
    Should Be True   ${SUITE.suites} == ['Fourth', 'Subsuites', 'Subsuites2', 'Tsuite1', 'Tsuite2', 'Tsuite3']
    Should Be True   ${SUITE.suites[0].tests} == ['Suite4 First']
    Should Be True   ${SUITE.suites[1].suites} == ['Sub1', 'Sub2']
    Should Be True   ${SUITE.suites[1].suites[0].tests} == ['SubSuite1 First']
    Should Be True   ${SUITE.suites[1].suites[1].tests} == ['SubSuite2 First']
    Should Be True   ${SUITE.suites[2].suites} == ['Subsuite3']
    Should Be True   ${SUITE.suites[2].suites[0].tests} == ['SubSuite3 First', 'SubSuite3 Second']
    Should Be True   ${SUITE.suites[3].tests} == ['Suite1 First', 'Suite1 Second', 'Third In Suite1']
    Should Be True   ${SUITE.suites[4].tests} == ['Suite2 First']
    Should Be True   ${SUITE.suites[5].tests} == ['Suite3 First']
