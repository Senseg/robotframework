*** Settings ***
Documentation   Tests for return values from keywords. Tests include e.g. setting different return values for variables and checking messages that are automatically logged when variables are set. Setting different return values got from Java libraries are tested thoroughly in java_libraries.html.
Suite Setup     Run Tests  ${EMPTY}  core/keywords/return_values_java.txt
Force Tags      regression  jybot
Resource        ../../../resources/resource.txt

*** Test Cases ***
Set Multiple Scalar Variables Using Java Array
    [Tags]
    ${test} =  Check Test Case  Set Multiple Scalar Variables Using Java Array
    Should Be Equal  ${test.kws[0].name}  \${var1}, \${var2} = ExampleJavaLibrary.Get String Array
    Check Log Message  ${test.kws[0].msgs[0]}  \${var1} = first value
    Check Log Message  ${test.kws[0].msgs[1]}  \${var2} = second value
    Should Be Equal  ${test.kws[3].name}  \${i1}, \${i2}, \${i42} = ExampleJavaLibrary.Get Array Of Three Ints
    Check Log Message  ${test.kws[3].msgs[0]}  \${i1} = 1
    Check Log Message  ${test.kws[3].msgs[1]}  \${i2} = 2
    Check Log Message  ${test.kws[3].msgs[2]}  \${i42} = 42

Set Java Object To Scalar Variable
    ${test} =  Check Test Case  Set Java Object to Scalar Variable
    Check Log Message  ${test.kws[0].msgs[0]}  \${var} = This is my name in Java

Set List Variable Using Java Array
    ${test} =  Check Test Case  Set List Variable Using Java Array
    Should Be Equal  ${test.kws[0].name}  \@{listvar} = ExampleJavaLibrary.Get String Array
    Check Log Message  ${test.kws[0].msgs[0]}  \@{listvar} = [ v1 | v2 | v3 ]
    Should Be Equal  ${test.kws[3].name}  \@{listvar} = ExampleJavaLibrary.Get Array Of Three Ints
    Check Log Message  ${test.kws[3].msgs[0]}  \@{listvar} = [ 1 | 2 | 42 ]

Set Scalar Variables With More Values Than Variables Using Java Array
    ${test} =  Check Test Case  Set Scalar Variables With More Values Than Variables Using Java Array
    Check Log Message  ${test.kws[0].msgs[0]}  \${a} = a
    Check Log Message  ${test.kws[0].msgs[1]}  \${b} = b
    Check Log Message  ${test.kws[0].msgs[2]}  \${c} = [ c | d | e | f ]
    Check Log Message  ${test.kws[4].msgs[0]}  \${i1} = 1
    Check Log Message  ${test.kws[4].msgs[1]}  \${i2&42} = [ 2 | 42 ]

Set Multiple Scalars With Too Few Values Using Java Array
    ${test} =  Check Test Case  Set Multiple Scalars with too few values Using Java Array
    Check Log Message  ${test.kws[0].msgs[0]}  Cannot assign return value of keyword 'ExampleJavaLibrary.Get Array Of Three Ints' to variables '\${i1}', '\${i2}', '\${i3}' and '\${i4}': Need more values than 3  FAIL

Set List To Scalar And List Varibles Using Java Array
    ${test} =  Check Test Case  Set List to Scalar and list varibles Using Java Array
    Should Be Equal  ${test.kws[0].name}  \${a}, \${b}, \@{c} = ExampleJavaLibrary.Get Array Of Three Ints
    Check Log Message  ${test.kws[0].msgs[0]}  \${a} = 1
    Check Log Message  ${test.kws[0].msgs[1]}  \${b} = 2
    Check Log Message  ${test.kws[0].msgs[2]}  \@{c} = [ 42 ]

