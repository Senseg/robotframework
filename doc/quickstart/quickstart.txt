.. include:: <isonum.txt>
.. include:: ../userguide/src/roles.txt

=====================================
  Robot Framework Quick Start Guide
=====================================

| Copyright |copy| Nokia Siemens Networks 2008
| Licensed under the Apache License, Version 2.0


.. contents:: Table of Contents
   :depth: 2


Introduction
============

Robot Framework overview
------------------------

Robot Framework is a keyword-based test automation tool.  Tests live
in html test files and make use of keywords implemented in test libraries to
drive the software under test.

Because Robot Framework is flexible and extensible, it is ideally
suited to testing complex software with a variety of interfaces: GUI,
Web, command line, Web services, etc.  


Installation
------------

Before Robot Framework can be installed, Python must be installed.
In addition, to use test libraries written in Java, Jython must be
installed. To run this quickstart, Python is enough.

There are three different ways to install Robot Framework, the most suitable
can be chosen:

1. There is a binary installer for Windows platform. It is enough to
   double-click the installer and follow instructions.
2. On every platform, Robot Framework can be installed from source. To install
   from source, extract the distribution and run command `python setup.py
   install`
3. Robot Framework can be installed using easy_install by issuing comand
   `easy_install robotframework`

After the framework is installed, it is useful to include the directory
containing start-up scipts in PATH environment variable. In Linux this
actually happens automatically, in Windows this must be done from 'Control
Panel -> System -> Advanced -> Environment Variables' by adding e.g.
C:\\Python25\\Scripts to PATH.

Successful installation can be verified with command `pybot --version` which
should output something like::

    $ pybot --version
    Robot 2.0.1 (Python 2.5.2 on linux2)

Detailed installation instructions can be found from Robot Framework User
Guide.


Running this demo
-----------------

To run this demo, open a command shell, cd to this directory, and type
the following command at the command line:

   pybot quickstart.html

The tests in this file will execute and generate the following reports:

report.html
   the test results summary
log.html
   the test results details
output.xml
   the test results in a portable XML format for integration with other tools

Open report.html in your browser, then click on the links to explore
the results. The report.html file links to the log.html file.

There are also a number of command line options that can be used to control
the test execution and generated outputs. Complete list can be viewed by
issuing `pybot --help`. The following command determines output directory,
names of the output files and also the name of the top level suite in the
report::
    
    pybot --outputdir reports --log mylog.html --report myrep.html --name
    My_Fine_Tests  


Introducing the sample application
----------------------------------

The sample application for this paper is a variation on a classic
login example: it’s a command-line based authentication server written
in Python. At the moment, the sample application allows a user to do
two things:

   * Create an account with a valid password
   * Log in with a valid user name and password

Attempting to log in with a non-existent user account or with an invalid password results in the same error message::

    Access Denied

Creating a user account with valid password results in the message::

    SUCCESS

There are two requirements that a password must fulfill to be valid: it must
be between 7-12 characters long, and it must contain lower and upper case
letters and numbers, but it must not contain special characters. Trying to
create a user with invalid password results in one of the following messages::

    Creating user failed: Password must be 7-12 characters long
    Creating user failed: Password must be a combination of lowercase and
    uppercase letters and numbers

And logging in successfully results in the message::

    Logged In

So, for example, if I issue the following commands, I should get the following responses::

    > python sut/login.py login fred P4ssw0rd
    Access Denied

    > python sut/login.py create fred P4ssw0rd
    SUCCESS

    > python sut/login.py login fred P4ssw0rd
    Logged In

That’s all our little sample application does just at the moment.
It’s not much.  But it’s a start.  Now we need to add some new
capabilities to it.


Test cases
==========

First tests
-----------

The following table has two tests:

   * User can create an account and log in
   * User cannot log in with bad password

.. table:: 
   :class: example

   =====================================  =================================  ==============  ==============
               Test Case                                Action                  Argument        Argument
   =====================================  =================================  ==============  ==============
   User can create an account and log in  Create Valid User                  fred            P4ssw0rd
   \                                      Attempt to Login with Credentials  fred            P4ssw0rd
   \                                      Status Should Be                   Logged In       \
   \                                      \                                  \               \
   User cannot log in with bad password   Create Valid User                  betty           P4ssw0rd
   \                                      Attempt to Login with Credentials  betty           wrong
   \                                      Status Should Be                   Access Denied   \    
   =====================================  =================================  ==============  ==============


Notice that these tests read almost like a manual test written in
English rather than like an automated test. Robot Framework uses a
keyword-driven approach that supports writing tests that capture the
essence of the actions and expectations in natural language. The text
in the :name:`action column` denotes the keyword to be used and
subsequent columns have possible arguments.


Higher-level tests
------------------

Test cases can also be created using only high-level keywords that
take no arguments. This style allows using totally free text which is
suitable for communication even with most non-technical customers or
other stakeholers. Robot Framework does not enforce any particular
style for writing test cases, but it is possible to use for example
*given-when-then* style popularized by *behaviour-driven development
(BDD)*.


.. table:: 
   :class: example

   ========================  ===========================================
           Test Case                           Steps             
   ========================  ===========================================
   User can change password  Given a user has a valid account
   \                         When she changes her password
   \                         Then she can log in with the new password
   \                         And she cannot use the old password anymore
   ========================  ===========================================



Data-driven tests
-----------------

.. table:: 
   :class: example

   ==================================  ===============================================  =============  ======================
                Test Case                                    Action                       Password     Expected error message
   ==================================  ===============================================  =============  ======================
   Too short password                  Creating user with invalid password should fail  abCD5          ${PWD_INVALID_LENGTH}
   Too long password                   Creating user with invalid password should fail  abCD567890123  ${PWD_INVALID_LENGTH}
   Password without lowercase letters  Creating user with invalid password should fail  123DEFG        ${PWD_INVALID_CONTENT}
   Password without capital letters    Creating user with invalid password should fail  abcd56789      ${PWD_INVALID_CONTENT}
   Password without numbers            Creating user with invalid password should fail  AbCdEfGh       ${PWD_INVALID_CONTENT}
   Password with special characters    Creating user with invalid password should fail  abCD56.        ${PWD_INVALID_CONTENT}
   ==================================  ===============================================  =============  ======================


Keywords
========

TODO: Peke

Built-in keywords
-----------------

The keywords included with Robot Framework,
including generally useful keywords such as "Get Time" and "Should
Be Equal".  For a complete list of the available built-in keywords
see BuiltInLibrary wikipage.


Library keywords
----------------

Keywords defined in a Robot Framework Library. (More on Libraries
later. The keyword "Create Valid User" from the previous tests is a
User Keyword.)

Robot Framework comes with a handful of libraries including an
OperatingSystem library to support common operating system functions,
and a Screenshot library for taking screenshots.  In addition, there
are other libraries distributed in separate open source projects, such
as a Selenium library for Web testing.


.. table:: 
   :class: example

   ===============  ========================
       Setting                Value
   ===============  ========================
   Library          OperatingSystem
   Library          testlibs/LoginLibrary.py
   ===============  ========================




User-defined keywords
---------------------

Keywords defined in a Keywords table either in the test file, or in
a resources file for a test suite. (More on test suites later.)
For example:

.. table:: 
   :class: example

   ===============================================  =================================  =======================================  =================
                   Keyword                                         Action                              Argument                      Argument
   ===============================================  =================================  =======================================  =================
   Clear login database                             Remove file                        ${DATABASE_FILE}                         \
   \                                                \                                  \                                        \
   Create valid user                                [Arguments]                        ${username}                              ${password}
   \                                                Create user                        ${username}                              ${password}
   \                                                Status should be                   SUCCESS                                  \
   \                                                \                                  \                                        \
   Creating user with invalid password should fail  [Arguments]                        ${password}                              ${expected_error}
   \                                                Create user                        example                                  ${password}
   \                                                Status should be                   Creating user failed: ${expected_error}  \
   \                                                \                                  \                                        \
   Given a user has a valid account                 Create valid user                  ${USERNAME}                              ${PASSWORD}
   \                                                \                                  \                                        \
   When she changes her password                    Change password                    ${USERNAME}                              ${PASSWORD2}
   \                                                \                                  \                                        \
   Then she can log in with the new password        Attempt to login with credentials  ${USERNAME}                              ${PASSWORD2}
   \                                                Status should be                   SUCCESS                                  \
   \                                                \                                  \                                        \
   And she cannot use the old password anymore      Attempt to login with credentials  ${USERNAME}                              ${PASSWORD}
   \                                                Status should be                   Access Denied                            \
   ===============================================  =================================  =======================================  =================


User-defined keywords can include actions defined by other
user-defined keywords, built-in keywords, or library keywords.  As you
can see from this example, User-defined keywords can take parameters.
They can also return values and even contain FOR loops. For now, the
important thing to know is that User-defined keywords enable test
creators to create reusable steps for common action sequences.
User-defined keywords can also help the test author keep the tests as
readable as possible.


Variables
=========

TODO: Janne

.. table:: 
   :class: example

   ======================  =============================================================================  
       Variable                        Value
   ======================  ============================================================================= 
   ${DATABASE_FILE}        ${TEMPDIR}${/}robotframework-quickstart-db.txt
   \                       \
   ${PWD_INVALID_LENGTH}   Password must be 7-12 characters long
   ${PWD_INVALID_CONTENT}  Password must be a combination of lowercase and uppercase letters and numbers 
   ======================  =============================================================================


Built-in variables, cli, variable files


Organizing test cases
=====================

TODO: Peke

Test suites
-----------

File and directory suites


Setup and teardown
------------------

If you want a set of actions to occur before and after each test
executes, use the Test Setup and Test Teardown settings in the Setting
table like so:

.. table:: 
   :class: example

   ===============  ========================
       Setting                Value
   ===============  ========================
   Test Setup       Clear Login Database
   Test Teardown    \
   ===============  ========================


Similarly you can use the Suite Setup and Suite Teardown settings to
specify actions to be executed before and after an entire test suite
executes.


Using tags
----------

.. table:: 
   :class: example

   ============  ===========  ===========
      Setting       Value        Value
   ============  ===========  ===========
   Default Tags  quickstart   example
   ============  ===========  =========== 

Also for single test case, usages: filtering, critical tests, statistics


Creating test libraries
=======================

TODO: Janne


Here is an example test library:

.. sourcecode:: python 
   
  testlibs/LoginLibrary.py 


